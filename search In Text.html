<!-- 30-may 2022-yil -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Search and Mark in text</title>
  <style>
    input {
      height: 30px;
      width: 200px;
      padding: 5px 10px;
      margin: 5px 0;
    }

    button {
      height: 30px;
      width: 100px;
    }

    p,
    span {
      font-size: 18px;
      font-family: sans-serif;
    }

    span {
      font-weight: 600;
    }

    h2,
    select {
      display: inline-block;
      margin: 10px;
      margin-left: 0;
      font-family: sans-serif;
    }

    select {
      font-size: 16px;
      height: 30px;
    }

    @media (max-width:576px) {
      span#numberOfResult {
        display: block;
      }

      h1 {
        font-size: 24px;
      }
    }
  </style>
</head>

<body>
  <h1>Qidiruv maydoniga matndan izlayotgan so'zingizni yozing...</h1>
  <h2>Qidiruv turini tanlang</h2>
  <select id="select">
    <option value="all" selected>Hammasi</option>
    <option value="only_sentence">Faqar so'zlar</option>
  </select><br>
  <input id="search" type="search" placeholder="search...">
  <button id="btn">Search...</button>
  <span id="numberOfResult"></span>

  <p class="text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi temporibus rerum eaque neque,
    sequi, delectus tempore harum in adipisci earum error blanditiis iusto quasi esse vero aspernatur corporis quam nisi
    porro voluptatem vitae? Rem doloremque tenetur, cum earum vitae, officia nesciunt blanditiis, reprehenderit soluta
    aliquam voluptatibus rerum qui maxime? A debitis vel amet, aut est delectus nulla perferendis dolorem reiciendis
    perspiciatis accusamus minima, itaque natus ratione. Magni recusandae veritatis aspernatur sit. Reprehenderit vitae
    ut necessitatibus nobis dolores deserunt eos aspernatur perferendis ducimus porro commodi quasi hic nostrum numquam
    animi, ad rem molestiae consequuntur ratione aut soluta quas amet officiis repellat. Animi consequuntur praesentium
    qui quas quaerat repellendus id consequatur voluptates quia similique. Qui quae vitae adipisci id nesciunt ullam,
    sint tempore possimus sequi nam deserunt consequatur iusto accusamus at voluptatum quam corrupti quod quos nisi
    repellendus odit laboriosam laudantium harum provident. Hic sapiente error tempore? Dolores ducimus alias impedit
    sint, repellat fugiat rem. Esse, quod quibusdam nemo, cupiditate quis necessitatibus nihil mollitia optio officia
    repudiandae sit voluptatibus aliquid. Soluta totam, itaque velit quia sequi quaerat rem voluptatibus vitae animi
    quam dignissimos, veniam nemo! Assumenda quas quis quidem quam cumque in molestiae eius est aut rerum possimus
    magnam recusandae iste, saepe adipisci, voluptatibus libero voluptate, maiores ipsum! Vel reiciendis error iure
    minima reprehenderit labore nemo ducimus? Perferendis sit dolore nemo, accusantium architecto quaerat deserunt
    ducimus aliquid modi temporibus autem quis sunt voluptates sapiente molestias ipsam voluptatem vel! Reprehenderit
    itaque aspernatur optio animi perferendis at excepturi harum omnis, facilis illo repellat esse? Doloribus placeat
    tempore quidem autem reprehenderit dolorum eius ad neque, nulla recusandae fugit, officia temporibus quos. Quas
    deserunt, omnis possimus tempore eum veniam rerum recusandae! Aspernatur maxime minus unde eos distinctio aliquam
    quisquam numquam enim. Aliquam molestiae explicabo expedita alias vitae, tempore cupiditate natus quo necessitatibus
    distinctio non veniam laborum sapiente aliquid consequatur! Consequatur recusandae eligendi beatae blanditiis autem
    sed ea veniam, iusto facilis officia corrupti iure soluta labore! Maiores placeat quidem minima voluptatem. Nisi
    eius odit itaque perferendis facilis voluptatem voluptatum consequatur, inventore, doloribus adipisci reprehenderit
    sint voluptas praesentium, quis cupiditate numquam in dolor debitis accusamus veniam culpa hic harum laborum.
    Tempora pariatur iusto soluta unde, incidunt quos consectetur recusandae molestiae dicta quam odio corrupti nostrum
    aliquid, perferendis amet fugiat perspiciatis inventore! Illo ab illum eius deleniti aut rerum in, eligendi quo,
    ducimus sunt nihil, atque fuga ipsa facilis? Architecto ipsum ipsam magnam non commodi repellendus fugit
    dignissimos, error, velit assumenda iusto soluta nesciunt sit natus vero, asperiores voluptates nostrum esse.
    Tempora quis quibusdam laboriosam soluta culpa aliquid doloremque ratione perferendis eius, delectus iste
    voluptatibus inventore ipsa voluptate ipsam facere cum accusamus neque tempore exercitationem asperiores.
    Voluptatibus eius incidunt ratione labore necessitatibus ipsa nihil quidem enim fuga sed sit deserunt, rem
    voluptates molestiae alias voluptas hic reiciendis totam veritatis obcaecati quos. Quos, maiores? Deleniti, neque
    iure. Nostrum deserunt cum cupiditate. A ratione excepturi, autem nemo, iusto corporis vero eaque suscipit, veniam
    minus accusantium alias facere laudantium. Non iusto exercitationem provident perspiciatis. Dicta quo eligendi
    doloribus. Nisi minus deleniti enim voluptate sit et quisquam consectetur commodi quam eaque, nulla, animi tempora!
    Vitae officiis aperiam eveniet eligendi commodi in laborum consectetur, eos repudiandae quam dolores non rem aliquid
    quaerat officia delectus voluptatibus cumque reprehenderit unde! Quasi temporibus earum impedit tempore magnam enim
    asperiores voluptatum soluta fugiat dignissimos! Tenetur maiores, illum error, sint, quasi amet quidem dignissimos
    enim iste nihil obcaecati dolores esse! Libero dignissimos quos quas harum sint? Consequuntur corrupti dignissimos
    optio. Distinctio provident atque quod doloribus expedita, perferendis eum architecto delectus fugit! Cumque aliquam
    suscipit qui, dolores officiis minus nihil veritatis, quos vero eum quod at corporis omnis rem optio voluptates
    minima rerum amet magni repellendus! Rem, iste pariatur. Minus veniam tempore possimus odio magni necessitatibus
    iste animi impedit atque, quis quae doloremque soluta, esse at reprehenderit aliquam nisi, ab laborum amet officia
    eos recusandae? Exercitationem ullam perspiciatis possimus, doloremque, reiciendis error id beatae libero impedit
    ipsam similique omnis corporis quod deserunt minus magnam aliquam temporibus, accusamus nobis dignissimos harum ut
    officia. Illo vitae, fuga nobis quia corporis aspernatur, laudantium delectus in nam autem consequatur, esse
    deleniti nostrum ipsum temporibus voluptas voluptate neque quo dicta labore minus minima! Ratione, nam fugit.
    Suscipit tempora praesentium ducimus sequi nam molestiae! Ab, ut et aspernatur quo dolore est fugiat itaque cumque
    nesciunt id in vero quos aliquid odit rem magnam ratione porro, nobis officiis similique quam labore, voluptatum
    inventore? Sapiente asperiores dignissimos modi iure reprehenderit perferendis aut facilis ullam? Aspernatur animi,
    deleniti vero architecto impedit veniam exercitationem sint amet odit, accusantium ipsum mollitia itaque porro iste?
    Consequuntur, voluptatum delectus optio rem quaerat doloremque architecto provident doloribus hic quidem omnis vel
    dignissimos, voluptates et odit veritatis id saepe cumque nobis deserunt, quam praesentium. Porro sint dolores
    sapiente aut debitis? Aliquam, eaque! Aspernatur fugiat commodi nihil, quasi est dolores autem repudiandae iure
    minus aliquam aliquid error quidem placeat voluptate maiores molestias temporibus! Voluptatibus nostrum, aliquam
    beatae esse maxime deserunt obcaecati omnis? Tempora debitis nulla quos distinctio? Quo quidem, quod, tempore
    reiciendis officiis nesciunt neque magnam accusamus laboriosam similique excepturi voluptatum alias! Quam, sit magni
    sapiente ipsa repellendus doloremque! Iure, eius? Exercitationem eos quaerat cupiditate, inventore rem perferendis
    ipsum quis dolorem dicta obcaecati itaque omnis ipsa suscipit illum earum. Fugit, omnis veniam nulla animi doloribus
    corporis possimus rerum esse unde assumenda maxime itaque ea reprehenderit officiis fuga sit tempore sed in ipsam et
    quae ratione iure. Distinctio obcaecati sequi quam, facere fugit delectus magnam repudiandae enim sapiente eos nam
    tenetur et ducimus quas cumque eum libero! Dolorem vero aliquam culpa cum quam quo saepe reprehenderit maiores
    soluta! Laudantium fuga repellendus, culpa voluptatem accusantium, odio dolorum officiis, sit repudiandae asperiores
    neque. Error magni dicta pariatur magnam cum. Explicabo impedit facere velit deleniti delectus doloribus excepturi
    fugiat nulla nam error totam recusandae illum in nostrum a asperiores quibusdam quod, quaerat quo temporibus debitis
    odit? Maxime adipisci illo pariatur, repudiandae totam voluptas hic, eaque obcaecati minus similique ut? Quidem
    similique soluta eum, facilis, eligendi ipsam minima cupiditate atque nisi magni officia amet nostrum autem nam
    reprehenderit quod dicta ut.</p>



  <script>
    let text = document.querySelector('.text');
    let btn = document.getElementById('btn');

    btn.addEventListener('click', () => {
      document.querySelector('.text').innerHTML = text.innerText;
      let select = document.getElementById('select').value;
      let result = document.getElementById('numberOfResult');
      let resultNumber = 0;
      let search = document.getElementById('search').value;
      if (search) {
        let textToArray;
        if (select === 'all') {
          textToArray = text.innerHTML.split('').map(a => [a]);
          for (let index = 0; index < (textToArray.length - search.length + 1); index++) {
            let solishtirilayotganQism = '';

            for (let i = index; i < search.length + index; i++) {
              solishtirilayotganQism += textToArray[i];
            };

            if (search.toLowerCase().replace(/\W/g, '') === solishtirilayotganQism.toLowerCase().replace(/\W/g, '')) {
              textToArray[index] = textToArray[index].map(u => '<mark>' + u);
              textToArray[index + search.length - 1] = textToArray[index + search.length - 1].map(u => u + '</mark>');
              resultNumber += 1;
            }
          }
          text.innerHTML = textToArray.join('');
        } else {
          textToArray = text.innerHTML.split(' ');
          textToArray = textToArray.map(sentence => {
            if (sentence.toLowerCase().replace(/\W/g, '') === search.toLowerCase().replace(/\W/g, '')) {
              resultNumber += 1;
              return '<mark>' + sentence + '</mark>';
            }
            return sentence;
          });
          text.innerHTML = textToArray.join(' ')
        }
        if (resultNumber > 0) {
          result.innerHTML = `${resultNumber} ta moslik aniqlandi! 😃`;
        } else {
          result.innerHTML = `Natijalar topilmadi! 😟`;
        }
      } else {
        result.innerHTML = ''
      }
    });
  </script>
</body>

</html>